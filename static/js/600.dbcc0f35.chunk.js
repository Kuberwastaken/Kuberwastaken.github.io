"use strict";(self.webpackChunkkuber_mehta_portfolio=self.webpackChunkkuber_mehta_portfolio||[]).push([[600],{600:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});var n=r(43),o=r(579);const a=()=>{const e=(0,n.useRef)(null),[t,r]=(0,n.useState)(!1),[a,s]=(0,n.useState)(0),[c,i]=(0,n.useState)(0),l=(0,n.useRef)({isOver:!1});(0,n.useEffect)((()=>{const e=localStorage.getItem("tetrisTopScore");e&&i(parseInt(e))}),[]),(0,n.useEffect)((()=>{const t=e.current,n=t.getContext("2d"),o=30,a=["#5abb9a","#ffebcd","#d4b99c","#7fffd4","#bae1ff","#baffc9","#ffb3ba"],f=[[[1,1,1,1]],[[1,1,1],[0,1,0]],[[1,1,1],[1,0,0]],[[1,1,1],[0,0,1]],[[1,1],[1,1]],[[1,1,0],[0,1,1]],[[0,1,1],[1,1,0]]];let u,h=Array.from({length:20},(()=>Array(10).fill(0))),v=x(),d=x(),p=Date.now(),y=0;function x(){return{shape:f[Math.floor(Math.random()*f.length)],color:a[Math.floor(Math.random()*a.length)],x:Math.floor(5)-1,y:0}}function m(e,t,r){return!l.current.isOver&&(e.x+=t,e.y+=r,!w(e)||(e.x-=t,e.y-=r,!1))}function g(e){if(l.current.isOver)return;const t=e.shape.map((e=>[...e])),r=e.x,n=e.y,o=e.shape[0].map(((t,r)=>e.shape.map((e=>e[r])).reverse()));e.shape=o;const a=[{x:0,y:0},{x:-1,y:0},{x:1,y:0},{x:-2,y:0},{x:2,y:0},{x:0,y:-1},{x:0,y:1}];for(const s of a)if(e.x=r+s.x,e.y=n+s.y,!w(e))return;e.shape=t,e.x=r,e.y=n}function w(e){return e.shape.some(((t,r)=>t.some(((t,n)=>{if(t){const t=e.x+n,o=e.y+r;return t<0||t>=10||o>=20||o>=0&&h[o][t]}return!1}))))}function b(){var e;l.current.isOver||(m(v,0,1)||((e=v).shape.forEach(((t,r)=>{t.forEach(((t,n)=>{t&&(h[e.y+r][e.x+n]=e.color)}))})),function(){let e=0;for(h=h.filter((t=>{const r=t.every((e=>e));return r&&e++,!r}));h.length<20;)h.unshift(Array(10).fill(0));e>0&&(y+=[0,40,100,300,1200][e]||0,s(y),y>c&&(i(y),localStorage.setItem("tetrisTopScore",y.toString())))}(),v=d,d=x(),w(v)&&(l.current.isOver=!0,r(!0),y>c&&(i(y),localStorage.setItem("tetrisTopScore",y.toString())),clearInterval(u))))}function S(e){if(!l.current.isOver)switch(e.key){case"ArrowLeft":m(v,-1,0),e.preventDefault();break;case"ArrowRight":m(v,1,0),e.preventDefault();break;case"ArrowDown":b(),e.preventDefault();break;case"ArrowUp":g(v),e.preventDefault()}}function k(e){if(l.current.isOver)return;const r=t.getBoundingClientRect(),n=e.touches[0],o=n.clientX-r.left,a=n.clientY-r.top,s=t.width/3,c=t.height/4;a<c?g(v):a>t.height-c?b():o<s?m(v,-1,0):o>2*s&&m(v,1,0),e.preventDefault()}window.addEventListener("keydown",S),t.addEventListener("touchstart",k),u=setInterval((function(){if(l.current.isOver)return;var e;Date.now()-p>1e3&&(b(),p=Date.now()),function(){n.clearRect(0,0,t.width,t.height);for(let e=0;e<20;e++)for(let t=0;t<10;t++)h[e][t]&&(n.fillStyle=h[e][t],n.fillRect(t*o,e*o,o,o),n.strokeRect(t*o,e*o,o,o))}(),(e=v).shape.forEach(((t,r)=>{t.forEach(((t,a)=>{t&&(n.fillStyle=e.color,n.fillRect((e.x+a)*o,(e.y+r)*o,o,o),n.strokeRect((e.x+a)*o,(e.y+r)*o,o,o))}))}))}),50);const O=l.current;return()=>{window.removeEventListener("keydown",S),t.removeEventListener("touchstart",k),clearInterval(u),O.isOver=!1}}),[t,a,c]);return(0,o.jsxs)("div",{className:"tetris-game-container",children:[(0,o.jsxs)("div",{className:"scoreboard",children:[(0,o.jsxs)("div",{children:["Score: ",a]}),(0,o.jsxs)("div",{children:["Top Score: ",c]})]}),(0,o.jsx)("canvas",{ref:e,width:"300",height:"600",className:"tetris-game-canvas"}),t&&(0,o.jsxs)("div",{className:"game-over",children:["Game Over! Score: ",a]}),(0,o.jsx)("button",{className:"restart-button",onClick:()=>{r(!1),s(0),l.current.isOver=!1},children:"Restart"})]})}}}]);
//# sourceMappingURL=600.dbcc0f35.chunk.js.map