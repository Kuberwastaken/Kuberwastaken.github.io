"use strict";(self.webpackChunkportfolio_react=self.webpackChunkportfolio_react||[]).push([[529],{529:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var o=t(43),n=t(579);const s=()=>{const e=Array(4).fill(null).map((()=>Array(4).fill(0)));return a(e),a(e),e},a=e=>{const r=[];for(let t=0;t<4;t++)for(let o=0;o<4;o++)0===e[t][o]&&r.push({r:t,c:o});if(r.length>0){const{r:t,c:o}=r[Math.floor(Math.random()*r.length)];e[t][o]=Math.random()<.9?2:4}},c=e=>{let r=0,t=!1;return{grid:e.map((e=>{const o=e.filter((e=>0!==e));for(let n=0;n<o.length-1;n++)o[n]===o[n+1]&&(o[n]*=2,r+=o[n],o.splice(n+1,1),t=!0);for(;o.length<4;)o.push(0);return o.some(((r,t)=>r!==e[t]))&&(t=!0),o})),moved:t,score:r}},l=e=>{const r=Array(4).fill().map((()=>Array(4).fill(0)));for(let t=0;t<4;t++)for(let o=0;o<4;o++)r[o][3-t]=e[t][o];return r},i=()=>{const[e,r]=(0,o.useState)(s()),[t,i]=(0,o.useState)(0),[d,u]=(0,o.useState)(0),[f,h]=(0,o.useState)(!1),[m,v]=(0,o.useState)(null),p=o=>{if(f)return;const{grid:n,moved:s,score:m}=((e,r)=>{let t=e.map((e=>[...e])),o=!1,n=0;switch(r){case"right":t=l(l(t));const e=c(t);t=l(l(e.grid)),o=e.moved,n=e.score;break;case"up":t=l(l(l(t)));const r=c(t);t=l(r.grid),o=r.moved,n=r.score;break;case"down":t=l(t);const s=c(t);t=l(l(l(s.grid))),o=s.moved,n=s.score;break;case"left":const a=c(t);t=a.grid,o=a.moved,n=a.score}return{grid:t,moved:o,score:n}})([...e],o);s&&(a(n),r(n),i(t+m),t+m>d&&u(t+m),(e=>{for(let r=0;r<4;r++)for(let t=0;t<4;t++)if(0===e[r][t])return!1;for(let r=0;r<4;r++)for(let t=0;t<4;t++)if(r<3&&e[r][t]===e[r+1][t]||t<3&&e[r][t]===e[r][t+1])return!1;return!0})(n)&&h(!0))},g=e=>{if(e.key.startsWith("Arrow")){e.preventDefault();p({ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"}[e.key])}};return(0,o.useEffect)((()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g))),[e,f]),(0,n.jsxs)("div",{className:"game-2048-container",onTouchStart:e=>{e.preventDefault();const r=e.touches[0];v({x:r.clientX,y:r.clientY})},onTouchMove:e=>{e.preventDefault()},onTouchEnd:e=>{if(e.preventDefault(),!m)return;const r=e.changedTouches[0],t=r.clientX-m.x,o=r.clientY-m.y;Math.abs(t)<50&&Math.abs(o)<50||(Math.abs(t)>Math.abs(o)?p(t>0?"right":"left"):p(o>0?"down":"up")),v(null)},children:[(0,n.jsxs)("div",{className:"scoreboard",children:[(0,n.jsxs)("div",{children:["Score: ",t]}),(0,n.jsxs)("div",{children:["Top Score: ",d]})]}),(0,n.jsx)("div",{className:"game-2048-grid",children:e.map(((e,r)=>e.map(((e,t)=>(0,n.jsx)("div",{className:"game-2048-cell value-".concat(e),children:(0,n.jsx)("div",{children:0!==e&&e})},"".concat(r,"-").concat(t))))))}),f&&(0,n.jsx)("div",{className:"game-over",children:"Game Over"}),(0,n.jsx)("button",{onClick:()=>{r(s()),i(0),h(!1)},children:"Restart"})]})},d=o.memo(i)}}]);
//# sourceMappingURL=529.f48a162d.chunk.js.map