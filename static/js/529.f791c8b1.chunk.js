"use strict";(self.webpackChunkkuber_mehta_portfolio=self.webpackChunkkuber_mehta_portfolio||[]).push([[529],{529:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var o=t(43),s=t(579);const n=()=>{const e=Array(4).fill(null).map((()=>Array(4).fill(0)));return a(e),a(e),e},a=e=>{const r=[];for(let t=0;t<4;t++)for(let o=0;o<4;o++)0===e[t][o]&&r.push({r:t,c:o});if(r.length>0){const{r:t,c:o}=r[Math.floor(Math.random()*r.length)];e[t][o]=Math.random()<.9?2:4}},l=e=>{let r=0,t=!1;return{grid:e.map((e=>{const o=e.filter((e=>0!==e));for(let s=0;s<o.length-1;s++)o[s]===o[s+1]&&(o[s]*=2,r+=o[s],o.splice(s+1,1),t=!0);for(;o.length<4;)o.push(0);return o.some(((r,t)=>r!==e[t]))&&(t=!0),o})),moved:t,score:r}},c=e=>{const r=Array(4).fill().map((()=>Array(4).fill(0)));for(let t=0;t<4;t++)for(let o=0;o<4;o++)r[o][3-t]=e[t][o];return r},i=()=>{const[e,r]=(0,o.useState)(n()),[t,i]=(0,o.useState)(0),[d,u]=(0,o.useState)(0),[h,f]=(0,o.useState)(!1),[m,v]=(0,o.useState)(null),p=o=>{if(h)return;const{grid:s,moved:n,score:m}=((e,r)=>{let t=e.map((e=>[...e])),o=!1,s=0;switch(r){case"right":t=c(c(t));const e=l(t);t=c(c(e.grid)),o=e.moved,s=e.score;break;case"up":t=c(c(c(t)));const r=l(t);t=c(r.grid),o=r.moved,s=r.score;break;case"down":t=c(t);const n=l(t);t=c(c(c(n.grid))),o=n.moved,s=n.score;break;case"left":const a=l(t);t=a.grid,o=a.moved,s=a.score}return{grid:t,moved:o,score:s}})([...e],o);n&&(a(s),r(s),i(t+m),t+m>d&&u(t+m),(e=>{for(let r=0;r<4;r++)for(let t=0;t<4;t++)if(0===e[r][t])return!1;for(let r=0;r<4;r++)for(let t=0;t<4;t++)if(r<3&&e[r][t]===e[r+1][t]||t<3&&e[r][t]===e[r][t+1])return!1;return!0})(s)&&f(!0))},g=e=>{if(e.key.startsWith("Arrow")){e.preventDefault();p({ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"}[e.key])}};return(0,o.useEffect)((()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g))),[e,h]),(0,s.jsxs)("div",{className:"game-2048-container",onTouchStart:e=>{e.preventDefault();const r=e.touches[0];v({x:r.clientX,y:r.clientY})},onTouchMove:e=>{e.preventDefault()},onTouchEnd:e=>{if(e.preventDefault(),!m)return;const r=e.changedTouches[0],t=r.clientX-m.x,o=r.clientY-m.y;Math.abs(t)<50&&Math.abs(o)<50||(Math.abs(t)>Math.abs(o)?p(t>0?"right":"left"):p(o>0?"down":"up")),v(null)},children:[(0,s.jsxs)("div",{className:"scoreboard",children:[(0,s.jsxs)("div",{children:["Score: ",t]}),(0,s.jsxs)("div",{children:["Top Score: ",d]})]}),(0,s.jsx)("div",{className:"game-2048-grid",children:e.map(((e,r)=>e.map(((e,t)=>(0,s.jsx)("div",{className:`game-2048-cell value-${e}`,children:(0,s.jsx)("div",{children:0!==e&&e})},`${r}-${t}`)))))}),h&&(0,s.jsx)("div",{className:"game-over",children:"Game Over"}),(0,s.jsx)("button",{onClick:()=>{r(n()),i(0),f(!1)},children:"Restart"})]})},d=o.memo(i)}}]);
//# sourceMappingURL=529.f791c8b1.chunk.js.map