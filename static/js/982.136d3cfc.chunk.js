"use strict";(self.webpackChunkkuber_mehta_portfolio=self.webpackChunkkuber_mehta_portfolio||[]).push([[982],{982:(e,s,r)=>{r.r(s),r.d(s,{default:()=>i});var t=r(43),a=r(579);const n=e=>{if(!e)return"";let s=e.replace(/^##\s+(.*?)$/gm,"<h2>$1</h2>");return s=s.replace(/^#\s+(.*?)$/gm,"<h1>$1</h1>"),s=s.replace(/^###\s+(.*?)$/gm,"<h3>$1</h3>"),s=s.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),s=s.replace(/\*(.*?)\*/g,"<em>$1</em>"),s=s.replace(/```(.*?)```/gs,"<pre><code>$1</code></pre>"),s=s.replace(/`(.*?)`/g,"<code>$1</code>"),s=s.replace(/\[(.*?)\]\((.*?)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>'),s=s.replace(/^-\s+(.*?)$/gm,"<li>$1</li>"),s=s.replace(/^---$/gm,"<hr/>"),s},i=()=>{const[e,s]=(0,t.useState)(""),[r,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(""),h=(0,t.useRef)(null),p="https://jarvis-backend-r9vl.onrender.com";(0,t.useEffect)((()=>{const e=localStorage.getItem("jarvis_session_id");e?d(e):(async()=>{try{const e=await fetch(`${p}/start-session`),s=await e.json();d(s.session_id),localStorage.setItem("jarvis_session_id",s.session_id)}catch(e){console.error("Failed to initialize session:",e)}})(),l([{text:"Hello, my name is **JARVIS**. I'm an AI assistant designed by *Kuber Mehta* to assist you with information about his portfolio and projects. How may I help you today?",isJarvis:!0}])}),[]),(0,t.useEffect)((()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)}),[o]);const g=e=>{e.preventDefault();const r=u;m(""),(async e=>{if(e.trim()){i(!0),l((s=>[...s,{text:e,isUser:!0}]));try{const r=await fetch(`${p}/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:e,session_id:c}),credentials:"include"});if(!r.ok){const e=await r.json();throw new Error(e.error||"Unknown error")}const t=(await r.json()).generated_text||"No response received";l((e=>[...e,{text:t,isJarvis:!0}])),s(t)}catch(r){console.error("Query Error:",r),l((e=>[...e,{text:`I apologize, but I'm experiencing a technical issue: ${r.message}. Please try again later.`,isJarvis:!0,isError:!0}]))}finally{i(!1)}}})(r)},f=e=>{const s=e.split("\n").map(((e,s)=>(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:n(e)},className:"markdown-line"},s)));return(0,a.jsx)("div",{className:"markdown-content",children:s})};return(0,a.jsxs)("div",{className:"jarvis-container",children:[(0,a.jsxs)("div",{className:"chat-window",ref:h,children:[o.map(((e,s)=>(0,a.jsx)("div",{className:"message",children:e.isUser?(0,a.jsxs)("div",{className:"user-message",children:[(0,a.jsx)("strong",{children:"You:"})," ",f(e.text)]}):(0,a.jsxs)("div",{className:"jarvis-response "+(e.isError?"error-message":""),children:[(0,a.jsx)("strong",{children:"Jarvis:"})," ",f(e.text)]})},s))),r&&(0,a.jsx)("div",{className:"loading",children:"Loading..."})]}),(0,a.jsxs)("form",{onSubmit:g,className:"input-form",children:[(0,a.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g(e))},placeholder:"Ask Jarvis something...",className:"query-input"}),(0,a.jsx)("button",{type:"submit",className:"send-button",disabled:r||!u.trim(),children:"Send"})]})]})}}}]);
//# sourceMappingURL=982.136d3cfc.chunk.js.map